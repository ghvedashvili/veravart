<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kidsmart Nickname Game</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background: #f0f8ff;
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            max-width: 600px;
            width: 100%;
            background: white;
            border-radius: 15px;
            padding: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }
        
        h2 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.2rem;
            color: #2c3e50;
        }
        
        .password-container {
            margin-bottom: 30px;
            position: relative;
        }
        
        #passwordInput {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            border: 3px solid #3498db;
            border-radius: 10px;
            outline: none;
            transition: all 0.3s;
            resize: vertical;
            min-height: 80px;
        }
        
        #passwordInput:disabled {
            background-color: #f5f5f5;
            border-color: #27ae60;
            color: #333;
        }
        
        #passwordInput:focus {
            border-color: #e74c3c;
            box-shadow: 0 0 10px rgba(231, 76, 60, 0.3);
        }
        
        .char-counter {
            position: absolute;
            bottom: 10px;
            right: 15px;
            font-size: 0.9rem;
            color: #7f8c8d;
            background: rgba(255, 255, 255, 0.8);
            padding: 2px 8px;
            border-radius: 10px;
            transition: all 0.3s;
            opacity: 0;
            transform: translateY(10px);
        }
        
        .char-counter.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .char-counter.near-limit {
            color: #e67e22;
            font-weight: bold;
        }
        
        .char-counter.over-limit {
            color: #e74c3c;
            font-weight: bold;
            animation: pulse 0.5s ease-in-out;
        }
        
        .rules-container {
            margin-bottom: 20px;
            min-height: 60px;
        }
        
        .rule {
            margin: 10px 0;
            padding: 7px;
            border-radius: 8px;
            font-size: 0.7rem;
            font-weight: bold;
            transition: all 0.3s ease;
            border-left: 6px solid;
        }
        
        .rule.valid {
            background: #d4f8e8;
            color: #27ae60;
            border-left-color: #2ecc71;
        }
        
        .rule.invalid {
            background: #ffeaea;
            color: #e74c3c;
            border-left-color: #e74c3c;
            animation: pulse 0.5s ease-in-out;
        }
        
        .win-message {
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            background: #d4f8e8;
            color: #27ae60;
            border-left: 6px solid #2ecc71;
            text-align: center;
        }
        
        .copy-section {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        .copy-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .copy-btn:hover {
            background: #2980b9;
        }
        
        .copy-btn.copied {
            background: #27ae60;
        }
        
        .copy-feedback {
            color: #27ae60;
            font-size: 0.9rem;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .copy-feedback.show {
            opacity: 1;
        }
        
        @keyframes pulse {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            100% { transform: translateX(0); }
        }
    </style>
</head>
<body>
    <h2>Nickname for Kidsmart</h2>
    
    <div class="container">
        <div class="password-container">
            <textarea id="passwordInput" placeholder="áƒ¨áƒ”áƒ˜áƒ§áƒ•áƒáƒœáƒ”áƒ— Nickname" rows="3"></textarea>
            <div class="char-counter" id="charCounter">0/35</div>
        </div>
        
        <div class="rules-container" id="rulesContainer">
            <!-- áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ˜ áƒáƒ¥ áƒ“áƒáƒ˜áƒ¯áƒ”áƒœáƒ”áƒ áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ JavaScript-áƒ˜áƒ— -->
        </div>
        
        <div class="copy-section" id="copySection" style="display: none;">
            <button class="copy-btn" id="copyBtn">
                ğŸ“‹ áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ
            </button>
            <div class="copy-feedback" id="copyFeedback">áƒ“áƒáƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜áƒ!</div>
        </div>
    </div>

    <script>
        // áƒ§áƒ•áƒ”áƒšáƒ áƒ¥áƒ•áƒ”áƒ§áƒœáƒ˜áƒ¡ ISO áƒ™áƒáƒ“áƒ”áƒ‘áƒ˜
        const allCountryCodes = [
           "AR",  "AZ", "GE",  "RU"
           ];

        // áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ¡áƒ˜áƒ•áƒ˜
        const rules = [
            {
                id: 1,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ£áƒ› 5 áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒáƒ¡",
                check: (pwd) => pwd.length >= 5
            },
            {
                id: 2,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒªáƒ˜áƒ¤áƒ áƒ¡",
                check: (pwd) => /\d/.test(pwd)
            },
            {
                id: 3,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ“áƒ˜áƒ“ áƒáƒ¡áƒáƒ¡",
                check: (pwd) => /[A-Z]/.test(pwd)
            },
            {
                id: 4,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ¡áƒáƒ”áƒªáƒ˜áƒáƒšáƒ£áƒ  áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒáƒ¡",
                check: (pwd) => /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(pwd)
            },
            {
                id: 5,
                text: "Nickname-áƒ¨áƒ˜ áƒªáƒ˜áƒ¤áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¯áƒáƒ›áƒ˜ áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡ 15",
                check: (pwd) => {
                    const numbers = pwd.match(/\d/g);
                    if (!numbers) return false;
                    return numbers.reduce((sum, num) => sum + parseInt(num), 0) === 15;
                }
            },
            {
                id: 6,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ™áƒ•áƒ˜áƒ áƒ˜áƒ¡ áƒ“áƒ¦áƒ”áƒ•áƒáƒœáƒ“áƒ”áƒš áƒ“áƒ¦áƒ”áƒ¡ (áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ£áƒ› 3 áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒ)",
                check: (pwd) => {
                    const days = {
                        "SUN": ["SUNDAY", "áƒ™áƒ•áƒ˜áƒ áƒ", "áƒ™áƒ•áƒ˜"],
                        "MON": ["MONDAY", "áƒáƒ áƒ¨áƒáƒ‘áƒáƒ—áƒ˜", "áƒáƒ áƒ¨"],
                        "TUE": ["TUESDAY", "áƒ¡áƒáƒ›áƒ¨áƒáƒ‘áƒáƒ—áƒ˜", "áƒ¡áƒáƒ›"],
                        "WED": ["WEDNESDAY", "áƒáƒ—áƒ®áƒ¨áƒáƒ‘áƒáƒ—áƒ˜", "áƒáƒ—áƒ®"],
                        "THU": ["THURSDAY", "áƒ®áƒ£áƒ—áƒ¨áƒáƒ‘áƒáƒ—áƒ˜", "áƒ®áƒ£áƒ—"],
                        "FRI": ["FRIDAY", "áƒáƒáƒ áƒáƒ¡áƒ™áƒ”áƒ•áƒ˜", "áƒáƒáƒ "],
                        "SAT": ["SATURDAY", "áƒ¨áƒáƒ‘áƒáƒ—áƒ˜", "áƒ¨áƒáƒ‘"]
                    };

                    const today = new Date().getDay();
                    const todayKey = ["SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"][today];
                    const todayNames = [todayKey, ...days[todayKey]];

                    const pwdUpper = pwd.toUpperCase();

                    return todayNames.some(name => pwdUpper.includes(name.toUpperCase()));
                }
            },
            {
                id: 7,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ­áƒáƒ“áƒ áƒáƒ™áƒ˜áƒ¡ áƒœáƒáƒ¢áƒáƒªáƒ˜áƒáƒ¡",
                check: (pwd) => /([a-h][1-8]|[nbrqk][a-h][1-8])/.test(pwd)
            },
            {
                id: 8,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒ—áƒ•áƒ”áƒ¡",
                check: (pwd) => {
                    const months = [
                        ["january", "jan", "áƒ˜áƒáƒœáƒ•áƒáƒ áƒ˜",  "áƒ˜áƒáƒœ"],
                        ["february", "feb", "áƒ—áƒ”áƒ‘áƒ”áƒ áƒ•áƒáƒšáƒ˜",  "áƒ—áƒ”áƒ‘"], 
                        ["march", "mar", "áƒ›áƒáƒ áƒ¢áƒ˜",  "áƒ›áƒáƒ "],
                        ["april", "apr", "áƒáƒáƒ áƒ˜áƒšáƒ˜",  "áƒáƒáƒ "],
                        ["may", "may", "áƒ›áƒáƒ˜áƒ¡áƒ˜",  "áƒ›áƒáƒ˜"],
                        ["june", "jun", "áƒ˜áƒ•áƒœáƒ˜áƒ¡áƒ˜",  "áƒ˜áƒ•áƒœ"],
                        ["july", "jul", "áƒ˜áƒ•áƒšáƒ˜áƒ¡áƒ˜",  "áƒ˜áƒ•áƒš"],
                        ["august", "aug", "áƒáƒ’áƒ•áƒ˜áƒ¡áƒ¢áƒ",  "áƒáƒ’áƒ•"],
                        ["september", "sep", "áƒ¡áƒ”áƒ¥áƒ¢áƒ”áƒ›áƒ‘áƒ”áƒ áƒ˜",  "áƒ¡áƒ”áƒ¥"],
                        ["october", "oct", "áƒáƒ¥áƒ¢áƒáƒ›áƒ‘áƒ”áƒ áƒ˜",  "áƒáƒ¥áƒ¢"],
                        ["november", "nov", "áƒœáƒáƒ”áƒ›áƒ‘áƒ”áƒ áƒ˜",  "áƒœáƒáƒ”"],
                        ["december", "dec", "áƒ“áƒ”áƒ™áƒ”áƒ›áƒ‘áƒ”áƒ áƒ˜",  "áƒ“áƒ”áƒ™"]
                    ];
                    const currentMonth = new Date().getMonth();
                    const currentMonthNames = months[currentMonth];
                    const pwdLower = pwd.toLowerCase();
                    return currentMonthNames.some(month => pwdLower.includes(month));
                }
            },
            {
                id: 9,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ”áƒ›áƒáƒ¯áƒ˜áƒ¡",
                check: (pwd) => /[\u{1F300}-\u{1F9FF}]/u.test(pwd)
            },
            {
                id: 10,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ¡áƒáƒ¥áƒáƒ áƒ—áƒ•áƒ”áƒšáƒáƒ¡ áƒáƒœ áƒ›áƒ˜áƒ¡áƒ˜ áƒ›áƒ”áƒ–áƒáƒ‘áƒ”áƒšáƒ˜ áƒ¥áƒ•áƒ”áƒ§áƒœáƒ˜áƒ¡ ISO áƒ™áƒáƒ“áƒ¡",
                check: (pwd) => {
                    const pwdUpper = pwd.toUpperCase();
                    return allCountryCodes.some(country => pwdUpper.includes(country));
                }
            },
            {
                id: 11,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ áƒáƒ›áƒáƒ£áƒš áƒªáƒ˜áƒ¤áƒ áƒ¡ (áƒ›áƒ˜áƒœáƒ˜áƒ›áƒ£áƒ› 3 áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒ)",
                check: (pwd) => /[IVXLCDM]{3,}/i.test(pwd)
            },
            { 
                id: 12, 
                text: "Nickname-áƒ˜áƒ¡ áƒ¡áƒ˜áƒ’áƒ áƒ«áƒ” áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡ áƒ›áƒáƒ¥áƒ¡áƒ˜áƒ›áƒ£áƒ› 35 áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒ (áƒ’áƒáƒ˜áƒ—áƒ•áƒáƒšáƒ˜áƒ¡áƒ¬áƒ˜áƒœáƒ” emoji áƒ¨áƒ”áƒ˜áƒ«áƒšáƒ”áƒ‘áƒ áƒ˜áƒ™áƒáƒ•áƒ”áƒ‘áƒ“áƒ”áƒ¡ 2 áƒáƒ“áƒ’áƒ˜áƒšáƒ¡)", 
                check: (pwd) => pwd.length <= 35 
            },
            {
                id: 13,
                text: "áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒ›áƒ”-4 áƒáƒ¡áƒ áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡ áƒ“áƒ˜áƒ“áƒ˜",
                check: (pwd) => {
                    const letters = pwd.replace(/[^a-zA-Z]/g, '');
                    if (letters.length < 4) return false;
                    for (let i = 3; i < letters.length; i += 4) {
                        if (letters[i] !== letters[i].toUpperCase()) return false;
                    }
                    return true;
                }
            },
            {
                id: 14,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ 3 áƒ®áƒ›áƒáƒ•áƒáƒœáƒ¡ áƒ–áƒ”áƒ“áƒ˜áƒ–áƒ”áƒ“",
                check: (pwd) => /[aeiouAEIOU]{3,}/.test(pwd)
            },
            {
                id: 15,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒáƒ—áƒ¬áƒ˜áƒšáƒáƒ“áƒ¡",
                check: (pwd) => /\d+\.\d+/.test(pwd)
            },
            {
                id: 27,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒáƒ áƒ˜áƒ—áƒ›áƒ”áƒ¢áƒ˜áƒ™áƒ£áƒš áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒ”áƒ‘áƒáƒ¡ (+, -, *, /)",
                check: (pwd) => /[\+\-\*\/]/.test(pwd)
            },
            {
                id: 16,
                text: "Nickname áƒáƒ  áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ¥áƒáƒ áƒ—áƒ£áƒš áƒáƒ¡áƒáƒ”áƒ‘áƒ¡",
                check: (pwd) => !/[áƒ-áƒ°]/.test(pwd)
            },
            {
                id: 17,
                text: "Nickname áƒáƒ  áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ›áƒ˜áƒ›áƒ“áƒ”áƒ•áƒ áƒáƒ‘áƒ˜áƒ— áƒ”áƒ áƒ—áƒ¡áƒ áƒ“áƒ áƒ˜áƒ›áƒáƒ•áƒ” áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒáƒ¡ 2-áƒ–áƒ” áƒ›áƒ”áƒ¢áƒ¯áƒ”áƒ ",
                check: (pwd) => {
                    for (let i = 0; i < pwd.length - 2; i++) {
                        if (pwd[i] === pwd[i+1] && pwd[i] === pwd[i+2]) {
                            return false;
                        }
                    }
                    return true;
                }
            },
            {
                id: 18,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ¢áƒ”áƒ›áƒáƒ”áƒ áƒáƒ¢áƒ£áƒ áƒáƒ¡ (-375Â°C-áƒ“áƒáƒœ 10000Â°C-áƒ›áƒ“áƒ” áƒáƒœ Â°F)",
                check: (pwd) => {
                    const tempRegex = /-?\d{1,5}Â°[CF]/;
                    const match = pwd.match(tempRegex);
                    if (!match) return false;
                    return true;
                }
            },
            {
                id: 19,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ ğŸ’§-áƒ¡ áƒáƒœ ğŸ§‚-áƒ¡ áƒ¥áƒ˜áƒ›áƒ˜áƒ£áƒ áƒ˜ áƒœáƒáƒ”áƒ áƒ—áƒ˜áƒ¡ áƒ™áƒáƒ“áƒ¡",
                check: (pwd) => {
                    const compounds = ["H2O", "NaCl"];
                    const pwdUpper = pwd.toUpperCase();
                    return compounds.some(compound => pwdUpper.includes(compound.toUpperCase()));
                }
            },
            {
                id: 20,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ¡áƒáƒ¥áƒáƒ áƒ—áƒ•áƒ”áƒšáƒáƒ¡ áƒáƒ•áƒ¢áƒáƒ›áƒáƒ‘áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ¢áƒáƒœáƒ“áƒáƒ áƒ¢áƒ£áƒš áƒ¡áƒáƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ áƒœáƒáƒ›áƒ”áƒ áƒ¡",
                check: (pwd) => {
                    const plateRegex = /[A-Z]{2}-\d{3}-[A-Z]{2}/;
                    return plateRegex.test(pwd.toUpperCase());
                }
            },
            {
                id: 21,
                text: "Nickname-áƒ¨áƒ˜ áƒáƒ  áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡ '41'",
                check: (pwd) => !pwd.includes("41")
            },
            {
                id: 22,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒ›áƒáƒ áƒ¢áƒ˜áƒ• 2 áƒœáƒ˜áƒ¨áƒœáƒ áƒ áƒ˜áƒªáƒ®áƒ•áƒ¡",
                check: (pwd) => {
                    const primes = ["11","13", "17","19","23", "29", "31", "37", "41", "43", "47", "53", "59", "61", "67", "71", "73", "79", "83", "89", "97"];
                    return primes.some(prime => pwd.includes(prime));
                }
            },
            {
                id: 23,
                text: "Nickname áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ áƒªáƒ˜áƒ¤áƒ áƒ£áƒš áƒ“áƒ áƒáƒ¡ (12:34, 23:59)",
                check: (pwd) => {
                    const timeRegex = /([01]?[0-9]|2[0-3]):[0-5][0-9]/;
                    return timeRegex.test(pwd);
                }
            },
            {
                id: 24,
                text: "Nickname-áƒ¨áƒ˜ áƒáƒ™áƒ áƒ«áƒáƒšáƒ£áƒšáƒ˜áƒ áƒ™áƒáƒ“áƒ˜ RU (áƒ áƒ£áƒ¡áƒ”áƒ—áƒ˜ áƒáƒ™áƒ£áƒáƒáƒœáƒ¢áƒ˜áƒ)",
                check: (pwd) => !pwd.toUpperCase().includes("RU")
            },
            {
                id: 25,
                text: "Nickname áƒ™áƒ”áƒœáƒ¢áƒ˜ áƒ“áƒ áƒšáƒ£áƒ¬áƒ˜ áƒªáƒ˜áƒ¤áƒ áƒ”áƒ‘áƒ˜ áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡ áƒ—áƒáƒœáƒáƒ‘áƒáƒ áƒ˜ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ˜áƒ¡",
                check: (pwd) => {
                    const numbers = pwd.match(/\d/g);
                    if (!numbers) return false;
                    const evenCount = numbers.filter(num => parseInt(num) % 2 === 0).length;
                    const oddCount = numbers.filter(num => parseInt(num) % 2 !== 0).length;
                    return evenCount === oddCount;
                }
            },
            {
                id: 26,
                text: "Nickname-áƒ¨áƒ˜ áƒªáƒ˜áƒ¤áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒœáƒáƒ›áƒ áƒáƒ•áƒšáƒ˜ 0-áƒ–áƒ” áƒ›áƒ”áƒ¢áƒ˜ áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡",
                check: (pwd) => {
                    const numbers = pwd.match(/\d/g);
                    if (!numbers || numbers.length === 0) return false;
                    return numbers.reduce((product, num) => product * parseInt(num), 1) > 0;
                }
            }
        ];

        // DOM áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜
        const passwordInput = document.getElementById('passwordInput');
        const rulesContainer = document.getElementById('rulesContainer');
        const charCounter = document.getElementById('charCounter');
        const copySection = document.getElementById('copySection');
        const copyBtn = document.getElementById('copyBtn');
        const copyFeedback = document.getElementById('copyFeedback');

        // áƒ˜áƒœáƒ˜áƒªáƒ˜áƒáƒšáƒ˜áƒ–áƒáƒªáƒ˜áƒ
        let allRules = [...rules];
        let activeRules = [allRules[0]]; // áƒ›áƒ®áƒáƒšáƒáƒ“ áƒáƒ˜áƒ áƒ•áƒ”áƒšáƒ˜ áƒ¬áƒ”áƒ¡áƒ˜
        let completedRules = new Set();
        let gameWon = false;

        // Copy-Paste-Cut áƒ‘áƒšáƒáƒ™áƒ˜áƒ áƒ”áƒ‘áƒ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ áƒáƒªáƒ áƒ—áƒáƒ›áƒáƒ¨áƒ˜ áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ”áƒáƒ‘áƒ¡
        passwordInput.addEventListener('copy', (e) => {
            if (!gameWon) {
                e.preventDefault();
                alert('Copy áƒáƒ™áƒ áƒ«áƒáƒšáƒ£áƒšáƒ˜áƒ! áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ£áƒœáƒ“áƒ áƒ—áƒáƒ•áƒáƒ“ áƒáƒ™áƒ áƒ˜áƒ¤áƒáƒ— Nickname.');
            }
        });

        passwordInput.addEventListener('paste', (e) => {
            if (!gameWon) {
                e.preventDefault();
                alert('Paste áƒáƒ™áƒ áƒ«áƒáƒšáƒ£áƒšáƒ˜áƒ! áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ£áƒœáƒ“áƒ áƒ—áƒáƒ•áƒáƒ“ áƒáƒ™áƒ áƒ˜áƒ¤áƒáƒ— Nickname.');
            }
        });

        passwordInput.addEventListener('cut', (e) => {
            if (!gameWon) {
                e.preventDefault();
                alert('Cut áƒáƒ™áƒ áƒ«áƒáƒšáƒ£áƒšáƒ˜áƒ!');
            }
        });

        // áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ
        function copyPassword() {
            const password = passwordInput.value;
            
            // áƒ•áƒ¥áƒ›áƒœáƒ˜áƒ— áƒ“áƒ áƒáƒ”áƒ‘áƒ˜áƒ— input áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ¡ áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡
            const tempInput = document.createElement('input');
            tempInput.value = password;
            document.body.appendChild(tempInput);
            tempInput.select();
            tempInput.setSelectionRange(0, 99999); // áƒ›áƒáƒ‘áƒ˜áƒšáƒ£áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡
            
            try {
                // áƒ•áƒªáƒ“áƒ˜áƒšáƒáƒ‘áƒ— áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒáƒ¡
                const successful = document.execCommand('copy');
                if (successful) {
                    showCopyFeedback();
                }
            } catch (err) {
                console.error('áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ áƒ•áƒ”áƒ  áƒ›áƒáƒ®áƒ”áƒ áƒ®áƒ“áƒ: ', err);
            }
            
            // áƒ•áƒ¨áƒšáƒ˜áƒ— áƒ“áƒ áƒáƒ”áƒ‘áƒ˜áƒ— input-áƒ¡
            document.body.removeChild(tempInput);
            
            // áƒáƒ¡áƒ”áƒ•áƒ” áƒ•áƒªáƒ“áƒ˜áƒšáƒáƒ‘áƒ— áƒáƒ®áƒáƒšáƒ˜ Clipboard API-áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ—
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(password).catch(err => {
                    console.error('Clipboard API error: ', err);
                });
            }
        }

        function showCopyFeedback() {
            copyBtn.textContent = 'âœ… áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜!';
            copyBtn.classList.add('copied');
            copyFeedback.classList.add('show');
            
            setTimeout(() => {
                copyBtn.textContent = 'ğŸ“‹ áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ';
                copyBtn.classList.remove('copied');
                copyFeedback.classList.remove('show');
            }, 2000);
        }

        // áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ—áƒ•áƒ”áƒšáƒ˜áƒ¡ áƒ’áƒáƒœáƒáƒ®áƒšáƒ”áƒ‘áƒ
        function updateCharCounter() {
            const password = passwordInput.value;
            const length = password.length;
            const maxLength = 35;
            
            charCounter.textContent = `${length}/${maxLength}`;
            
            // áƒ¤áƒ”áƒ áƒ˜áƒ¡ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ áƒšáƒ˜áƒ›áƒ˜áƒ¢áƒ˜áƒ¡ áƒ›áƒ˜áƒ®áƒ”áƒ“áƒ•áƒ˜áƒ—
            charCounter.classList.remove('near-limit', 'over-limit');
            
            if (length > maxLength) {
                charCounter.classList.add('over-limit');
            } else if (length > maxLength - 5) {
                charCounter.classList.add('near-limit');
            }
        }

        // áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ—áƒ•áƒ”áƒšáƒ˜áƒ¡ áƒ®áƒ˜áƒšáƒ•áƒáƒ“áƒáƒ‘áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜
        function toggleCharCounter() {
            const rule12Active = activeRules.some(rule => rule.id === 12);
            
            if (rule12Active) {
                charCounter.classList.add('visible');
                updateCharCounter();
            } else {
                charCounter.classList.remove('visible');
            }
        }

        // áƒ’áƒáƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ
        function checkWin(password) {
            return allRules.every(rule => rule.check(password));
        }

        // áƒ’áƒáƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ
        function showWinState() {
            gameWon = true;
            
            // áƒ’áƒáƒ•áƒáƒ£áƒ›áƒáƒ¥áƒ›áƒ”áƒ“áƒáƒ— textarea
            passwordInput.disabled = true;
            
            // áƒ“áƒáƒ•áƒáƒ›áƒáƒšáƒáƒ— áƒ§áƒ•áƒ”áƒšáƒ áƒ¬áƒ”áƒ¡áƒ˜
            rulesContainer.innerHTML = '';
            
            // áƒ“áƒáƒ•áƒáƒ›áƒáƒ¢áƒáƒ— áƒ’áƒ˜áƒšáƒáƒªáƒ•áƒ˜áƒ¡ áƒ¨áƒ”áƒ¢áƒ§áƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒ
            const winMessage = document.createElement('div');
            winMessage.className = 'win-message';
            winMessage.textContent = 'áƒ’áƒ˜áƒšáƒáƒªáƒáƒ•áƒ—! áƒ—áƒ¥áƒ•áƒ”áƒœ áƒ¬áƒáƒ áƒ›áƒáƒ¢áƒ”áƒ‘áƒ˜áƒ— áƒ¨áƒ”áƒ¥áƒ›áƒ”áƒœáƒ˜áƒ— Nickname!';
            rulesContainer.appendChild(winMessage);
            
            // áƒ’áƒáƒ›áƒáƒ•áƒáƒ©áƒ˜áƒœáƒáƒ— áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ”áƒ¥áƒªáƒ˜áƒ
            copySection.style.display = 'flex';
        }

        // áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ DOM-áƒ¨áƒ˜
        function renderRules() {
            if (gameWon) return;
            
            rulesContainer.innerHTML = '';
            
            const password = passwordInput.value;
            
            // áƒ“áƒáƒ•áƒáƒšáƒáƒ’áƒáƒ— áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ˜: áƒ¯áƒ”áƒ  áƒ¨áƒ”áƒ£áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜, áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’ áƒ¨áƒ”áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜
            const sortedRules = [...activeRules].sort((a, b) => {
                const aValid = a.check(password);
                const bValid = b.check(password);
                if (!aValid && bValid) return -1; // a (áƒ¨áƒ”áƒ£áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜) áƒ–áƒ”áƒ•áƒ˜áƒ—
                if (aValid && !bValid) return 1;  // b (áƒ¨áƒ”áƒ£áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜) áƒ–áƒ”áƒ•áƒ˜áƒ—
                return a.id - b.id; // áƒ˜áƒ’áƒ˜áƒ•áƒ” áƒ¡áƒ¢áƒáƒ¢áƒ£áƒ¡áƒ˜ - áƒ—áƒáƒœáƒ›áƒ˜áƒ›áƒ“áƒ”áƒ•áƒ áƒáƒ‘áƒ˜áƒ—
            });
            
            // áƒ›áƒ®áƒáƒšáƒáƒ“ áƒáƒ¥áƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ©áƒ•áƒ”áƒœáƒ”áƒ‘áƒ
            sortedRules.forEach(rule => {
                const ruleElement = document.createElement('div');
                const isValid = rule.check(password);
                ruleElement.className = `rule ${isValid ? 'valid' : 'invalid'}`;
                ruleElement.textContent = rule.text;
                rulesContainer.appendChild(ruleElement);
            });
            
            // áƒ’áƒáƒ›áƒáƒ áƒ¯áƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ
            if (checkWin(password)) {
                showWinState();
            }
        }

        // áƒáƒáƒ áƒáƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ
        function checkPassword() {
            const password = passwordInput.value;
            
            // áƒ’áƒáƒœáƒ•áƒáƒáƒ®áƒšáƒáƒ— áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ—áƒ•áƒ”áƒšáƒ˜ (áƒ›áƒ®áƒáƒšáƒáƒ“ áƒ—áƒ£ áƒ¬áƒ”áƒ¡áƒ˜ 12 áƒáƒ¥áƒ¢áƒ˜áƒ£áƒ áƒ˜áƒ)
            if (activeRules.some(rule => rule.id === 12)) {
                updateCharCounter();
            }
            
            // áƒ’áƒáƒœáƒ•áƒáƒáƒ®áƒšáƒáƒ— áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ˜
            allRules.forEach(rule => {
                if (rule.check(password)) {
                    completedRules.add(rule.id);
                } else {
                    completedRules.delete(rule.id);
                }
            });
            
            // áƒ›áƒ˜áƒ›áƒ“áƒ˜áƒœáƒáƒ áƒ” áƒáƒ¥áƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ¬áƒ”áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ
            let allActiveRulesCompleted = activeRules.every(rule => rule.check(password));
            
            // áƒ—áƒ£ áƒ§áƒ•áƒ”áƒšáƒ áƒáƒ¥áƒ¢áƒ˜áƒ£áƒ áƒ˜ áƒ¬áƒ”áƒ¡áƒ˜ áƒ“áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜áƒ, áƒ›áƒáƒ•áƒ«áƒ”áƒ‘áƒœáƒáƒ— áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’áƒ˜ áƒ¨áƒ”áƒ£áƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ¬áƒ”áƒ¡áƒ˜
            if (allActiveRulesCompleted) {
                const nextRule = allRules.find(rule => 
                    !activeRules.includes(rule) && !rule.check(password)
                );
                if (nextRule) {
                    activeRules.push(nextRule);
                    // áƒ’áƒáƒœáƒ•áƒáƒáƒ®áƒšáƒáƒ— áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ—áƒ•áƒ”áƒšáƒ˜, áƒ—áƒ£ áƒáƒ®áƒáƒšáƒ˜ áƒ¬áƒ”áƒ¡áƒ˜áƒ 12
                    toggleCharCounter();
                }
            }
            
            renderRules();
        }

        // áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜ áƒ¡áƒ£áƒ‘áƒ›áƒ˜áƒ¢áƒ˜ áƒ§áƒáƒ•áƒ”áƒšáƒ˜ áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡áƒáƒ¡
        passwordInput.addEventListener('input', function() {
            if (!gameWon) {
                checkPassword();
            }
        });

        // áƒ™áƒáƒáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¦áƒ˜áƒšáƒáƒ™áƒ˜áƒ¡ áƒ›áƒáƒ•áƒšáƒ”áƒœáƒ
        copyBtn.addEventListener('click', copyPassword);

        // áƒ—áƒáƒ›áƒáƒ¨áƒ˜áƒ¡ áƒ“áƒáƒ¬áƒ§áƒ”áƒ‘áƒ
        toggleCharCounter();
        renderRules();
    </script>
</body>
</html>
